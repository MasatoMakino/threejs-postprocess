(()=>{"use strict";var e,t={849:(e,t,s)=>{var r=s(75),i=s(12);class a{static initScene(){return new r.xsS}static initLight(e){const t=new r.Mig(16777215,1);return e.add(t),t}static initCamera(e,t,s,i=1,a=400){const n=new r.cPb(45,t/s,i,a);return n.position.set(0,0,100),n.updateMatrixWorld(!1),e.add(n),n}static initControl(e,t){let s;t&&(s=t.domElement);const r=new i.z(e,s);return r.update(),r}static initRenderer(e,t,s){s=Object.assign({color:0,id:"webgl-canvas",antialias:!0},s);const i=new r.CP7({canvas:document.getElementById(s.id),antialias:s.antialias});return i.setClearColor(new r.Ilk(s.color)),i.setSize(e,t),i.setPixelRatio(window.devicePixelRatio),i}static initHelper(e){const t=new r.y8_(30);e.add(t)}}var n=s(42),o=s(438);class l extends o.xC{constructor(){super(...arguments),this.enabled=!0}}var c=s(163);class h{constructor(e,t,s){this._composers=[],this.render=e=>{let t;t=e instanceof c.NH?e.delta:e,this._composers.forEach((e=>{e.enabled&&(e.onBeforeRender&&e.onBeforeRender(t),e.render(t),e.onAfterRender&&e.onAfterRender(t))}))},this.renderer=s,this.scene=e,this.camera=t}get composers(){return this._composers}addComposer(e,t){const s=h.getComposer(e,this.renderer,{scene:this.scene,camera:this.camera,renderPass:t});return this._composers.push(s),s}static getComposer(e,t,s){d.init(s);const r=new l(t);return r.addPass(s.renderPass),e.forEach((e=>{r.addPass(e)})),r}setSize(e,t){this.camera.aspect=e/t,this.camera.updateProjectionMatrix(),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(e,t),this._composers.forEach((s=>{s.setSize(e,t)}))}getSize(){return this.renderer.getSize(new r.FM8)}}class d{static init(e){null==e.renderPass&&(e.renderPass=new n.C(e.scene,e.camera))}}var u=s(571);class p extends u.T{get tDiffuse(){return this.uniforms.tDiffuse.value}set tDiffuse(e){this.uniforms.tDiffuse.value=e}}var g=s(275);class w{updateMaterial(e){this.original=e,this.copyMaterialArray(),this.darkenMaterialArray(this.dark)}copyMaterialArray(){this.isClone()?this.cloneToDark():this.copyToDark()}isClone(){const e=this.getHeadMaterial(this.dark),t=this.getHeadMaterial(this.original);return null==e||e.type!==t.type}getHeadMaterial(e){return Array.isArray(e)?e[0]:e}copyToDark(){Array.isArray(this.original)?this.dark.forEach(((e,t)=>{e.copy(this.original[t])})):this.dark.copy(this.original)}cloneToDark(){const e=Array.isArray(this.original);this.dark=e?this.original.map((e=>e.clone())):this.original.clone()}darkenMaterialArray(e){Array.isArray(e)?e.forEach((e=>{w.darkenMaterial(e)})):w.darkenMaterial(e)}static darkenMaterial(e){null!=e.color&&e.color.setHex(0),null!=e.shininess&&(e.shininess=0),null!=e.specular&&e.specular.setHex(0),null!=e.emissive&&e.emissive.setHex(0)}}class m{constructor(e){this.darkenNonBloomed=()=>{this.scene.traverseVisible(this.switchToDarken)},this.restoreMaterial=()=>{this.scene.traverseVisible(this.switchToOriginalMaterial)},this.switchToDarken=e=>{if(!this.isDarken(e))return;null==e.userData.materialStorage&&(e.userData.materialStorage=new w);const t=e.userData.materialStorage,s=e;t.updateMaterial(s.material),s.material=t.dark},this.switchToOriginalMaterial=e=>{this.isDarken(e)&&(e.material=e.userData.materialStorage.original)},this.scene=e,this.layers=new r.S9g,this.layers.set(f.BLOOM)}isDarken(e){return(null!=e.isMesh||null!=e.isLine)&&!this.layers.test(e.layers)}}class f extends l{constructor(e,t,s){super(t),this.switcher=new m(e);const i=t.getSize(new r.FM8);this.bloomPass=new g.m(i,1.5,.4,.4),this.renderToScreen=!1,d.init(s),this.addPass(s.renderPass),this.addPass(this.bloomPass),this.onBeforeRender=this.switcher.darkenNonBloomed,this.onAfterRender=this.switcher.restoreMaterial}get result(){return this.renderTarget2.texture}}f.ENTIRE=0,f.BLOOM=30;var v=s(993);class y extends p{constructor(){super(v.C)}setSize(e,t){super.setSize(e,t);const s=this.material.uniforms;s.resolution.value.x=1/e,s.resolution.value.y=1/t}}var k=s(694),M=s(998);class x{static initGUIResolution(e,t){const s=t.getSize(),r={width:s.width,height:s.height},i=()=>{t.setSize(r.width,r.height)},a=e.addFolder("Resolution");a.add(r,"width",2,1920).step(1).onChange(i),a.add(r,"height",2,1080).step(1).onChange(i),a.open()}static initColorGUI(e,t,s="color"){const r={},i=t[s];return r[s]=i.getHex(),e.addColor(r,s).onChange((e=>{i.setHex(e)})),r}}class P{constructor(){const e=a.initScene();e.fog=new r.ybr(0,80,160),a.initLight(e);const t=a.initCamera(e,640,480),s=a.initRenderer(640,480,{antialias:!1});a.initControl(t,s),a.initHelper(e),this.initObject(e),this.postRenderer=new h(e,t,s);const i=s.getSize(new r.FM8);this.smaaPass=new M.d(i.width,i.height),this.fxaaPass=new y,this.postRenderer.addComposer([this.fxaaPass,this.smaaPass]),c.Fz.on(c.M9.tick,this.postRenderer.render),this.initGUI()}initObject(e){const t=new r.cek(16777215,3,0,2);t.position.set(0,0,0),e.add(t);const s=new r.xG9(t,2,0);e.add(s);const i=new r.xo$(10,32,32),a=new r.YBo({fog:void 0!==e.fog,wireframe:!0,color:new r.Ilk(16777215)});this.center=new r.Kj0(i,a),this.center.layers.enable(f.BLOOM),e.add(this.center)}initGUI(){const e=new k.XS;this.initPassGUI(e),x.initGUIResolution(e,this.postRenderer)}initPassGUI(e){const t=e.addFolder("Anti Aliasing"),s={AA_Type:0},r=e=>{this.smaaPass.enabled=1==e,this.fxaaPass.enabled=2==e};t.add(s,"AA_Type",{None:0,FXAA:2,SMAA:1}).onChange(r),t.open(),r(s.AA_Type)}}window.onload=()=>{new P}}},s={};function r(e){var i=s[e];if(void 0!==i)return i.exports;var a=s[e]={exports:{}};return t[e](a,a.exports,r),a.exports}r.m=t,e=[],r.O=(t,s,i,a)=>{if(!s){var n=1/0;for(h=0;h<e.length;h++){for(var[s,i,a]=e[h],o=!0,l=0;l<s.length;l++)(!1&a||n>=a)&&Object.keys(r.O).every((e=>r.O[e](s[l])))?s.splice(l--,1):(o=!1,a<n&&(n=a));if(o){e.splice(h--,1);var c=i();void 0!==c&&(t=c)}}return t}a=a||0;for(var h=e.length;h>0&&e[h-1][2]>a;h--)e[h]=e[h-1];e[h]=[s,i,a]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.j=888,(()=>{var e={888:0};r.O.j=t=>0===e[t];var t=(t,s)=>{var i,a,[n,o,l]=s,c=0;if(n.some((t=>0!==e[t]))){for(i in o)r.o(o,i)&&(r.m[i]=o[i]);if(l)var h=l(r)}for(t&&t(s);c<n.length;c++)a=n[c],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(h)},s=self.webpackChunkthreejs_postprocess=self.webpackChunkthreejs_postprocess||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var i=r.O(void 0,[736],(()=>r(849)));i=r.O(i)})();